{"version":3,"sources":["js/gallery-data.js","index.js"],"names":["preview","original","description","galleryListRef","document","querySelector","lightboxRef","lightboxCloseBtnRef","lightboxImgRef","lightboxOverlayRef","renderGalleryToEnd","galleryDataArr","currentGalleryImgRef","generateGalleryMarkup","reduce","markupAcc","insertAdjacentHTML","onGalleryListClick","e","preventDefault","target","classList","contains","setCurrentGalleryImg","ref","openLightboxWithCurrent","sibling","siblingProp","newGalleryImgRef","closest","setLightboxImgCurrent","src","dataset","source","alt","clearLightboxImg","window","addEventListener","onLightboxKeyDown","add","closeLightbox","remove","removeEventListener","code","ESC_KEY_CODE","ARROW_LEFT_KEY_CODE","ARROW_RIGHT_KEY_CODE"],"mappings":";;;AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DF,QAAA,QAAA;;ACmId,aAnID,QAAA,oBAEA,IAAA,EAAA,EAAA,QAAA,sBAiIC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA7HD,IAAMC,EAAiBC,SAASC,cAAc,eACxCC,EAAcF,SAASC,cAAc,gBACrCE,EAAsBD,EAAYD,cACtC,wCAEIG,EAAiBF,EAAYD,cAAc,OAC3CI,EAAqBH,EAAYD,cACrC,qCAGFK,EAAmBC,EAAD,SAElB,IAAIC,EAAuB,KAQ3B,SAASC,EAAsBF,GACtBA,OAAAA,EAAeG,OACpB,SAACC,EAAD,GAAcf,IAAAA,EAAAA,EAAAA,QAASC,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,YAC/Ba,OAAAA,EAEmCd,sEAAAA,OAAAA,EACID,mDAAAA,OAAAA,EAAyBC,mBAAAA,OAAAA,EAAkBC,WAAAA,OAAAA,EAJpF,mCAOA,IAIJ,SAASQ,EAAmBC,GAC1BR,EAAea,mBACb,YACAH,EAAsBF,IAI1B,SAASM,EAAmBC,GAC1BA,EAAEC,iBAEGD,EAAEE,OAAOC,UAAUC,SAAS,oBAEjCC,EAAqB,CAAEC,IAAKN,EAAEE,SAC9BK,KAGF,SAASF,EAAuC,GAAhBG,IAAAA,EAAAA,EAAAA,QAASF,EAAAA,EAAAA,IACnCA,GAAQ,QAARA,EAGK,OADPZ,EAAuBY,GAChB,EAGLG,IAAAA,EAAc,GAEVD,OAAAA,GACD,IAAA,OACHC,EAAc,qBACd,MACG,IAAA,OACHA,EAAc,yBACd,MACF,QACS,OAAA,EAGLC,IAAAA,EAAmBhB,EACtBiB,QAAQ,kBACRF,GAAatB,cAAc,mBAI1B,QAACuB,IAELhB,EAAuBgB,GAChB,GAKT,SAASE,IACPtB,EAAeuB,IAAMnB,EAAqBoB,QAAQC,OAClDzB,EAAe0B,IAAMtB,EAAqBsB,IAG5C,SAASC,IACP3B,EAAeuB,IAAM,GACrBvB,EAAe0B,IAAM,GAGvB,SAAST,IACPK,IAEAM,OAAOC,iBAAiB,UAAWC,GAEnChC,EAAYe,UAAUkB,IAAI,WAG5B,SAASC,IACPlC,EAAYe,UAAUoB,OAAO,WAE7BL,OAAOM,oBAAoB,UAAWJ,GAEtCH,IAGF,SAASG,EAAkBpB,GAKjBA,OAAAA,EAAEyB,MACHC,IALc,SAMjBJ,IACA,MACGK,IAPqB,YAQpBtB,EAAqB,CAAEG,QAAS,UAAWI,IAC/C,MACGgB,IATsB,aAUrBvB,EAAqB,CAAEG,QAAS,UAAWI,KA5GrD3B,EAAekC,iBAAiB,QAASpB,GACzCV,EAAoB8B,iBAAiB,QAASG,GAC9C/B,EAAmB4B,iBAAiB,QAASG","file":"src.8e5dc957.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg\",\r\n    description: \"Hokkaido Flower\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\r\n    description: \"Container Haulage Freight\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\r\n    description: \"Aerial Beach View\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\r\n    description: \"Flower Blooms\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\r\n    description: \"Alpine Mountains\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\r\n    description: \"Mountain Lake Sailing\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\r\n    description: \"Alpine Spring Meadows\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\r\n    description: \"Nature Landscape\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\r\n    description: \"Lighthouse Coast Sea\",\r\n  },\r\n];\r\n","import './css/styles.css';\r\n\r\nimport galleryDataArr from './js/gallery-data';\r\n\r\n// ==================== ðŸ“Œ MAIN PART ====================\r\n\r\nconst galleryListRef = document.querySelector('.js-gallery');\r\nconst lightboxRef = document.querySelector('.js-lightbox');\r\nconst lightboxCloseBtnRef = lightboxRef.querySelector(\r\n  'button[data-action=\"close-lightbox\"]',\r\n);\r\nconst lightboxImgRef = lightboxRef.querySelector('img');\r\nconst lightboxOverlayRef = lightboxRef.querySelector(\r\n  'div[data-action=\"close-lightbox\"]',\r\n);\r\n\r\nrenderGalleryToEnd(galleryDataArr);\r\n\r\nlet currentGalleryImgRef = null;\r\n\r\ngalleryListRef.addEventListener('click', onGalleryListClick);\r\nlightboxCloseBtnRef.addEventListener('click', closeLightbox);\r\nlightboxOverlayRef.addEventListener('click', closeLightbox);\r\n\r\n// ==================== ðŸ“Œ GALLERY FUNCTIONS ====================\r\n\r\nfunction generateGalleryMarkup(galleryDataArr) {\r\n  return galleryDataArr.reduce(\r\n    (markupAcc, { preview, original, description }) =>\r\n      markupAcc +\r\n      `<li class=\"gallery__item\">\r\n        <a class=\"gallery__link\" href=\"${original}\">\r\n          <img class=\"gallery__image\" src=\"${preview}\" data-source=\"${original}\" alt=\"${description}\"/>\r\n        </a>\r\n      </li>`,\r\n    '',\r\n  );\r\n}\r\n\r\nfunction renderGalleryToEnd(galleryDataArr) {\r\n  galleryListRef.insertAdjacentHTML(\r\n    'beforeend',\r\n    generateGalleryMarkup(galleryDataArr),\r\n  );\r\n}\r\n\r\nfunction onGalleryListClick(e) {\r\n  e.preventDefault();\r\n\r\n  if (!e.target.classList.contains('gallery__image')) return;\r\n\r\n  setCurrentGalleryImg({ ref: e.target });\r\n  openLightboxWithCurrent();\r\n}\r\n\r\nfunction setCurrentGalleryImg({ sibling, ref }) {\r\n  if (ref === 'IMG') {\r\n    // if (ref?.nodeName === 'IMG') {\r\n    currentGalleryImgRef = ref;\r\n    return true;\r\n  }\r\n\r\n  let siblingProp = '';\r\n\r\n  switch (sibling) {\r\n    case 'next':\r\n      siblingProp = 'nextElementSibling';\r\n      break;\r\n    case 'prev':\r\n      siblingProp = 'previousElementSibling';\r\n      break;\r\n    default:\r\n      return false;\r\n  }\r\n\r\n  const newGalleryImgRef = currentGalleryImgRef\r\n    .closest('.gallery__item')\r\n    [siblingProp].querySelector('.gallery__image');\r\n  // ?.closest('.gallery__item')\r\n  // ?.[siblingProp]?.querySelector('.gallery__image');\r\n\r\n  if (!newGalleryImgRef) return false;\r\n\r\n  currentGalleryImgRef = newGalleryImgRef;\r\n  return true;\r\n}\r\n\r\n// ==================== ðŸ“Œ LIGHTBOX FUNCTIONS ====================\r\n\r\nfunction setLightboxImgCurrent() {\r\n  lightboxImgRef.src = currentGalleryImgRef.dataset.source;\r\n  lightboxImgRef.alt = currentGalleryImgRef.alt;\r\n}\r\n\r\nfunction clearLightboxImg() {\r\n  lightboxImgRef.src = '';\r\n  lightboxImgRef.alt = '';\r\n}\r\n\r\nfunction openLightboxWithCurrent() {\r\n  setLightboxImgCurrent();\r\n\r\n  window.addEventListener('keydown', onLightboxKeyDown);\r\n\r\n  lightboxRef.classList.add('is-open');\r\n}\r\n\r\nfunction closeLightbox() {\r\n  lightboxRef.classList.remove('is-open');\r\n\r\n  window.removeEventListener('keydown', onLightboxKeyDown);\r\n\r\n  clearLightboxImg();\r\n}\r\n\r\nfunction onLightboxKeyDown(e) {\r\n  const ESC_KEY_CODE = 'Escape';\r\n  const ARROW_LEFT_KEY_CODE = 'ArrowLeft';\r\n  const ARROW_RIGHT_KEY_CODE = 'ArrowRight';\r\n\r\n  switch (e.code) {\r\n    case ESC_KEY_CODE:\r\n      closeLightbox();\r\n      break;\r\n    case ARROW_LEFT_KEY_CODE:\r\n      if (setCurrentGalleryImg({ sibling: 'prev' })) setLightboxImgCurrent();\r\n      break;\r\n    case ARROW_RIGHT_KEY_CODE:\r\n      if (setCurrentGalleryImg({ sibling: 'next' })) setLightboxImgCurrent();\r\n      break;\r\n  }\r\n}\r\n"]}